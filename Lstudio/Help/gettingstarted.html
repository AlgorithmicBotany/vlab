<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="lstudio.css">
<title>L-studio User's Guide: Getting Started with L-studio</title>
</head>
<body>
<div class="navigation">
<a href="installation.html">Installation
<img src="backward.gif" width="16" height="16" alt="Back"></a>
<a href="index.html">
<img src="home.gif"  height="55" width="54" alt="Contents"></a>
<a href="browser.html">
<img src="forward.gif" width="16" height="16" alt="Forward">
Object browser</a>
</div>

<hr>

<h1>Getting Started with L-studio</h1>
<h4><a name="starting"></a>Starting L-studio</h4>

<p>Once L-studio has been <a href="installation.html">installed</a>,
you can start it by double-clicking the L-studio icon <img
class="inline" src="icon.gif" height="51" width="62" alt="L-studio
icon">. You will be presented with a splash screen, then the L-studio
main window:</p>

<div class="largeimg">
<img src="images/lstudio_main.png" height="558" width="479"
     alt="L-studio main window">
</div>

<p>When you start L-studio, there are no objects loaded. There are three
ways to open an object: by choosing <em class="menu">Open</em> from the
<em class="menu">Object</em> menu; by dragging an object directory from
the Windows file explorer and dropping it onto the L-studio window; or
through the <a href="browser.html">object browser</a>.</p>


<h4><a name="opening"></a>Opening an object</h4>

<p>Let's open an object. Select <em class="menu">Open</em> from the
<em class="menu">Object</em> menu. This brings up the
<em class="window">Open</em> dialog box:</p>

<div class="largeimg">
<img src="images/opendlg.png"
     alt="Open dialog box">
</div>

<p>Browse through the directory tree to where you copied the
<tt>oofs</tt> directory. (It's usually within the main L-studio
directory.) Within the <tt>oofs</tt> directory, browse into the
directory <tt>00</tt>, then into the subdirectory
<tt>getting_started</tt>, then select the directory
<tt>01-basic</tt>. Select <em class="button">OK</em>. This opens the
object in L-studio:</p>

<div class="largeimg">
<img src="images/lstudio_oneobject.png"
     alt="L-studio window, with one open object">
</div>


<h4><a name="interface"></a>The L-studio user interface</h4>

<p>Notice the tabs at the top of the window. With these tabs, you can
switch between L-studio's <a href="sections.html">editors</a>.  The
object <tt>01-basic</tt> opened with the <em
class="widget">Description</em> tab open, displaying the file
<tt>description.txt</tt>, which is a description of the object. If an
object has no <tt>description.txt</tt>, L-studio will open to the
<em class="widget">L-system</em> tab.</p>

<p>L-studio can have more than one object open at a time, using
Microsoft's <cite>Multiple Document Interface</cite> methodology,
which may be familiar to you from other Windows applications. Select
<em class="menu">Open</em> from the <em class="menu">Object</em> menu,
then open the object <tt>02-lychnis</tt>, in the same directory as the
last object you opened. Now two objects are open in L-studio at the
same time:</p>

<div class="largeimg">
<img src="images/lstudio_cascaded.png"
     alt="Two objects, cascaded">
</div>

<p>You can arrange the object windows manually, just as you would
windows on the desktop, or with the options in the <em
class="menu">Window</em> menu. For instance, windows can be tiled
horizonally:</p>

<div class="largeimg">
<img src="images/lstudio_tiled.png"
     alt="Two objects, tiled horizontally">
</div>

<p class="warning"><strong>Note</strong>: Some of the editors do not
resize well. If the windows containing them are too small, you may
not be able to see the entire editor, and may be unable to access
some controls unless you increase the object window's size.</p>


<h4><a name="running"></a>Running the simulation</h4>

<p>You can run the simulator for this object (in this case,
<i>cpfg</i>) by choosing <em class="menu">Go!</em> from the <em
class="menu">Cpfg</em> menu.  This will open the <i>cpfg</i> window
and run the simulation:</p>

<div class="largeimg">
<img src="images/lstudio_cpfg.png"
     alt="L-studio and the cpfg window">
</div>

<p>The model is shown in the main <i>cpfg</i> window. You can click
and drag in this window to rotate the model. Right-clicking brings
up a menu with other options. For more information on <i>cpfg</i>'s
interface, see the <cite>CPFG user's manual</cite>. The <em
class="window">Message Log</em> window below the main <i>cpfg</i> window
shows all of the messages generated by <i>cpfg</i>: errors, warnings,
and messages specified within the L-system file.</p>


<h4><a name="editing"></a>Editing the model</h4>

<p>You can edit the model with any one of the built-in editors,
which can be selected with the tabs at the top of the window:</p>

<ul>
<li>The <a href="texteditor.html#lsystem"><em
class="widget">L-system</em></a> and <a
href="texteditor.html#view"><em class="widget">View</em></a> tabs open
a text editor on the L-system and view file, respectively.</li>

<li>The <a href="formeditor.html#anim"><em
class="widget">Animate</em></a> tab opens a form which lets you set
the models' animation parameters.</li>

<li>The <a href="paletteeditor.html"><em
class="widget">Colors</em></a> tab opens either a colormap editor or a
material editor. The latter is used if the model is to be drawn shaded
in 3D, while the former can be used in other cases; for instance, if
the model is drawn schematically rather than realistically. The model
<tt>01-basic</tt> model is schematic, so it uses a colormap.</li>

<li>The <a href="gallery.html#surfaces"><em class="widget">Surfaces</em></a>, 
<a href="gallery.html#contours"><em class="widget">Contours</em></a>, 
<a href="gallery.html#functions"><em class="widget">Functions</em></a>, and
<a href="gallery.html#panels"><em class="widget">Panels</em></a> tabs
open corresponding surface, contour, function, and panel editors. These
editors are describe in more detail in
<a href="#moreadvanced">A more advanced model</a>.</li>

<li>Finally, the <a href="texteditor.html#description"><em
class="widget">Description</em></a> and <a
href="texteditor.html#general"><em
class="widget">Text&nbsp;file</em></a> tabs open up more text editors:
the first on the file <tt>description.txt</tt>, which is a description
of the model; and the latter on any text file in the model.</li>
</ul>


<p>First, try changing the color of the model. Select the <em
class="button">Colors</em> tab in L-studio. This displays the colormap
editor:</p>

<div class="largeimg">
<img src="images/lstudio_colormap_editor.png"
     alt="Colormap editor">
</div>

<p>Select the bright yellow color from the top row, near the middle of
the palette. The three sliders above the palette show the amount of
red, green, and blue in the color; yellow is made up of almost full
red and green, and almost no blue. Change the color to red by dragging
the green (middle) slider all the way to the left:</p>

<div class="largeimg">
<img src="images/changing_color.png"
     alt="Changing yellow to red">
</div>

<p>To apply changes to the simulated model, it is not necessary to
close and rerun the simulator. The commands <em
class="menu">New&nbsp;model</em>, <em
class="menu">New&nbsp;L-system</em>, and so on, on the <em
class="menu">Cpfg</em>/<em class="menu">Lpfg</em> menu signal the
simulator that some aspect of the model has changed, and the
simulation should be rerun, or at least the 3D view redrawn. Apply the color change by choosing the command <em class="menu">New
model</em> from the <em class="menu">Cpfg</em> menu.  Now the apices
are drawn as red:</p>

<div class="largeimg">
<img src="images/red_apices.png"
     alt="Model with red apices">
</div>

<p>You can also edit objects in <em class="mode">Continous
modeling</em> mode. In this mode, most changes that you make are
immediately applied to the running simulation. <em
class="mode">Continous modeling</em> mode is toggled by selecting the
command <em class="menu">Continuous modeling</em> from the <em
class="menu">Cpfg</em> menu. Make sure that <em
class="mode">Continuous Modeling</em> is on now:</p>

<div class="largeimg">
<img src="images/continuous_on.png"
     alt="Continuous Modeling mode is on">
</div>

<p>Now, change the red color back to yellow by dragging the green slider
to the right. Note that the color of the apices in the model changes
as you drag the slider.</p>

<h2><a name="moreadvanced"></a>A more advanced model</h2>

<p><tt>01-basic</tt> is a very simple model. In the
<tt>getting_started</tt> directory is a model of <i>Lychnis</i> which
uses predefined 3D surfaces, functions, and panels. Select <em
class="menu">Open</em> from the <em class="menu">Object</em> menu and
navigate to the directory <tt>00/getting_started/02-lychnis</tt>:</p>

<div class="largeimg">
<img src="images/openlychnis.png"
     alt="Open dialog box">
</div>

<p>Select this directory, then select <em class="button">OK</em>.</p>

<h4><a name="editing2"></a>Other editors</h4>

<p>The basic model had only a few components: the L-system, a view file,
an animation file, a description, and a colormap. The <i>Lychnis</i> model
has many more: predefined 3D surfaces, graphically defined functions and
contours, control panels, and uses materials instead of a colormap. These
other components are accessed by the tabs at the top of the window:</p>

<ul>
<li>Unlike the basic model, this model is drawn realistically, and
uses materials. Thus, the <a href="paletteeditor.html"><em
class="widget">Colors</em></a> tab opens a material editor.</li>

<li>The <a href="gallery.html#surfaces"><em
class="widget">Surfaces</em></a> tab opens the surface editor.
Surfaces are user-definable 3D shapes that can be referenced in the
L-system, such as petals or leaves. The <i>Lychnis</i> model has
user-defined leaf and petal surfaces.</li>

<li>The <a href="gallery.html#contours"><em
class="widget">Contours</em></a> tab opens the contour editor.
Contours are two-dimensional curves that can be used by the L-system
to specify branch shapes or limb cross-sections. The cross-section of
the <i>Lychnis</i>' sepals is defined with a contour.</li>

<li>The <a href="gallery.html#functions"><em
class="widget">Functions</em></a> tab opens the function editor.
These graphically-definable functions of a single variable can be used
by an L-system to define parameters which differ with a component's
age, size, position, or many other factors. The <i>Lychnis</i> model
defines leaf growth, branching angles, and many other parameters using
functions.</li>

<li>The <a href="gallery.html#panels"><em
class="widget">Panels</em></a> tab opens the panel editor.  Panels can
be used to control parameters of an L-system model.  In <em
class="mode">Design</em> mode, the panel editor lets you create panel
controls (which include sliders and on/off buttons) and associate them
with parameters in the L-system or other file.  In <em
class="mode">Execute</em> mode, the panels are active, and can be used
to change the parameters of the running L-system simulation. The
<i>Lychnis</i> model uses panels to control several parameters,
characterizing both the shape and the dynamics of the model's growth.</li>
</ul>


<h4><a name="materials"></a>The material editor</h4>

<p>Let's edit the model. First, make sure that <em
class="mode">Continuous Modeling</em> mode is on. Open the <em
class="menu">Cpfg</em> menu. If <em class="menu">Continuous
Modeling</em> doesn't have a checkmark next to it, select it to turn
it on. Then, run the simulation. Select <em class="menu">Go!</em>
from the <em class="menu">Cpfg</em> menu. Now the <i>Lychnis</i>
model should be shown in the <i>cpfg</i> window:</p>

<div class="largeimg">
<img src="images/lychnis_running.png"
     alt="Lychnis model running in cpfg">
</div>

<p>First, select the <em class="widget">Colors</em> tab to open the
materials editor. Let's change the color of the flowers in the
<i>Lychnis</i> model. Click on the pink sphere in the material palette
to select that color:</p>

<div class="largeimg">
<img src="images/select_material.png"
     alt="Flower material selected">
</div>

<p>The material is defined by several components which are added
together to create the color displayed. Briefly, the
<dfn>ambient</dfn> color is added regardless of whether light is
shining on the material or not; the <dfn>diffuse</dfn> color is its
color when light is shining on it, and is darker if the light is not
falling directly on it; the <dfn>specular</dfn> is the color of the
material's "highlight", whose size is controlled by
<dfn>shininess</dfn>; and the <dfn>emission</dfn> is the color of the
light emitted by the material. Let's try changing the diffuse
color.</p>

<p>First, just change the amount of diffuse color added to the final
color, by dragging the slider beside it all the way to the left. The
sample material, and the color of the flowers in the simulation
(because you have <em class="mode">Continuous modeling</em> mode on)
changes to a dark burgundy:</p>

<div class="largeimg">
<img src="images/diffuse_down.png"
     alt="Turning down the diffuse component">
</div>

<p>Now, try changing the diffuse color. Move the coefficient slider
back to the right, then click on the box at its right hand side. This
brings up a color editor:</p>

<div class="largeimg">
<img src="images/colorwheel_diffuse.png"
     alt="Color selection dialog box">
</div>

<p>Let's change the color to yellow. Click on yellow on the color wheel,
and notice that the flowers have changed color:</p>

<div class="largeimg">
<img src="images/lychnis_almost_yellow.png"
     alt="Lychnis model with almost yellow flowers">
</div>

<p>The flowers aren't quite yellow, because the ambient color is still
pink. Close the diffuse color editor and open the ambient one, by clicking
on the color square next to the ambient slider. Change the ambient
color to yellow as well, and see that the flowers are now yellow:</p>

<div class="largeimg">
<img src="images/lychnis_yellow.png"
     alt="Lychnis model with yellow flowers">
</div>


<h4><a name="surface"></a>The surface editor</h4>

<p>Open the surface editor by clicking the <em class="widget">Surface</em>
tab:</p>

<div class="largeimg">
<img src="images/lychnis_surface.png"
     alt="Surface editor in Lychnis model">
</div>

<p>There are two surface editors which let you create and modify predefined
3D surfaces. The "Advanced" editor is quite complex, but is not necessary
for most models. The "Basic" editor, where you are now, is the editor
that was used to create the surfaces in the model. To switch between them,
use the <em class="widget">Advanced</em> button on the basic editor,
and the <em class="widget">Basic</em> button on the advanced editor.</p>

<p>The surface, contour, function, and panel editors are all based on
the <dfn>gallery paradigm</dfn>. All of the components of a given type
(surfaces, contours, functions, or panels) are displayed in and can be
selected from the <dfn>gallery</dfn> at the bottom of the window.
When selected, the component is displayed in the <dfn>preview</dfn>
window at the top left, and controls to edit it are displayed
to its right. The component's name is shown in a text box to the
right of the preview window. Select the leaf surface by clicking on
it:</p>

<div class="largeimg">
<img src="images/lychnis_surface.png"
     alt="Surface editor in Lychnis model">
</div>

<p>The leaf is displayed in the preview area. You can rotate the view
by clicking and dragging on the preview area. Let's make the leaves
broader. Right click on the preview area and select <em
class="menu">Lock XY design</em> from the popup menu. This locks the
view, so that clicking on the window will select and move control
points, not rotate the model. Now right click again, and select
<em class="menu">Keep symmetric</em>. This will make sure that
as you move control points, the leaf shape is kept symmetric.<p>

<p>Now, click on the point labeled "8", then drag it to the
right. Notice that point 5 moves correspondingly to maintain the
leaf's symmetry. The new leaf shape is reflected in the model shown
in <i>cpfg</i>:</p>

<div class="largeimg">
<img src="images/lychnis_newleaf.png"
     alt="Lychnis model with wide leaves">
</div>



<h4><a name="function"></a>The function editor</h4>

<p>Click on the <em class="widget">Functions</em> tab to open the
function editor. The <i>Lychnis</i> model uses lots of functions to
define parameters that are different in different parts of the model,
due to position or age. The first function in the gallery controls the
size of leaves as a function of age. Click on it to select it:</p>

<div class="largeimg">
<img src="images/lychnis_function.png"
     alt="Function editor on Lychnis model">
</div>

<p>All functions are defined from 0 to 1. In this case, where the
independent variable is age, the value of the function at 0 gives the
size of the youngest leaves (those at the tip of the shoots), while
its value at 1 is the size of the oldest leaves (at the very bottom of
the axis). Try increasing the size of the youngest leaves. Drag the
leftmost point (which is very close to the origin) up:</p>

<div class="largeimg">
<img src="images/lychnis_function_changing.png"
     alt="Changing a function in the Lychnis model">
</div>

<p>The increase in the size of the youngest leaves is quite clearly
reflected in the model:</p>

<div class="largeimg">
<img src="images/lychnis_newfunction.png"
     alt="Lychnis model with changed function">
</div>



<h4><a name="panels"></a>Panels</h4>

<p>The panel editor is opened with the <em class="widget">Panels</em>
tab:</p>

<div class="largeimg">
<img src="images/lychnis_panel.png"
     alt="Panel editor in Lychnis model">
</div>

<p>Panels are used to control parameters while the simulation
is running. The <i>Lychnis</i> model uses two panels: one
controls L-system parameters, the other controls view options.
Click on the "lsystem" panel in the gallery to open it:</p>

<div class="largeimg">
<img src="images/lychnis_panel.png"
     alt="Panel editor in Lychnis model">
</div>

<p>There are lots of parameters to control in this model.
Look at "Flowering time". This is the amount of time it takes
for a flower to grow, once the bud has opened. If it increases,
we expect what flowers there are to be found lower and lower
on the plant, at older and older buds. Try increasing it by clicking
in the bar above the label and see what happens:</p>

<div class="largeimg">
<img src="images/lychnis_panel_changed.png"
     alt="Inreasing flowering time with a panel">
</div>

<p>As expected, as we increase the flowering time, the flowers
are found further down the plant stem. Experimenting with
parameters in this way helps to confirm a model's predictions.</p>


<hr>
<div class="navigation">
<a href="installation.html">Installation
<img src="backward.gif" width="16" height="16" alt="Back"></a>
<a href="index.html">
<img src="home.gif"  height="55" width="54" alt="Contents"></a>
<a href="browser.html">
<img src="forward.gif" width="16" height="16" alt="Forward">
Object browser</a>
</div>

</body>
</html>

